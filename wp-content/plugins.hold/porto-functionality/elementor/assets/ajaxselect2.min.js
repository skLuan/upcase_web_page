jQuery(window).on("elementor:init",function(){var e=jQuery,t=elementor.modules.controls.BaseData.extend({onReady:function(){var t=this.ui.select,n=t.attr("data-ajax-url"),a=t.attr("data-condition");t.select2({ajax:{url:n,dataType:"json",data:function(e){var n={s:e.term};if(void 0===t.attr("multiple")&&(n.add_default="1"),a)if("archive_builder"==a)n.condition=elementor.settings.page.model.get("archive_preview_type");else{var i=jQuery('select[data-setting="'+a+'"]');if(i.length)n.condition=i.val();else for(key in elementor.selection.elements){condition_value=elementor.selection.elements[key].settings.attributes[a],condition_value&&(n.condition=condition_value);break}}return n}},cache:!0});var i=void 0!==this.getControlValue()?this.getControlValue():"";i.isArray&&(i=this.getControlValue().join());var o={ids:String(i)};e.ajax({url:n,dataType:"json",data:o}).then(function(n){null!==n&&n.results.length>0&&(e.each(n.results,function(e,n){t.append(new Option(n.text,n.id,!0,!0)).trigger("change")}),t.trigger({type:"select2:select",params:{data:n}}))})},onBeforeDestroy:function(){this.ui.select.data("select2")&&this.ui.select.select2("destroy"),this.$el.remove()}});elementor.addControlView("porto_ajaxselect2",t)});