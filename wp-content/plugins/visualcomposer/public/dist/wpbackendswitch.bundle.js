"use strict";(self.vcvWebpackJsonp4x=self.vcvWebpackJsonp4x||[]).push([["wpbackendswitch"],{"./public/backendSwitch.js":function(e,t,n){n("./public/variables.js");var i=n("./node_modules/react-dom/index.js"),o=n("./node_modules/react/index.js"),r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),a=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),c=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),d=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,d.default)(this,n)}}var w=function(e){(0,c.default)(n,e);var t=u(n);function n(e){var i;(0,r.default)(this,n),i=t.call(this,e);var o=window.VCV_GUTENBERG&&window.VCV_GUTENBERG();i.handleClickEnableClassicEditor=i.handleClickEnableClassicEditor.bind((0,a.default)(i)),i.handleClickOpenFrontendEditor=i.handleClickOpenFrontendEditor.bind((0,a.default)(i)),o&&(i.handleClickEnableGutenbergEditor=i.handleClickEnableGutenbergEditor.bind((0,a.default)(i)));var s=document.getElementById("vcv-be-editor");-1!==window.location.href.indexOf("classic-editor")&&(s.value="classic");var c=s.value;return(s&&-1===["classic","gutenberg"].indexOf(c)||"gutenberg"===c&&!o)&&(c="be",i.hideClassicEditor()),i.state={editor:c},i.wpb=void 0!==window.vc,i}return(0,s.default)(n,[{key:"handleClickEnableClassicEditor",value:function(e){e.preventDefault();var t=window.VCV_I18N&&window.VCV_I18N(),n=t&&t.enableClassicEditorConfirmMessage?t.enableClassicEditorConfirmMessage:"Visual Composer will overwrite your content created in WordPress Classic editor with the latest version of content created in Visual Composer Website Builder. Do you want to continue?";window.confirm(n)&&(this.setState({editor:"classic"}),this.showClassicEditor())}},{key:"handleClickEnableGutenbergEditor",value:function(e){e.preventDefault();var t=window.VCV_I18N&&window.VCV_I18N(),n=t&&t.enableGutenbergEditorConfirmMessage?t.enableGutenbergEditorConfirmMessage:"Gutenberg will overwrite your content created in Visual Composer Website Builder. Do you want to continue?";if(window.confirm(n)){this.setState({editor:"gutenberg"});var i=window.location.href;i+=(i.match(/[?]/g)?"&":"?")+"vcv-set-editor=gutenberg",window.location=i}}},{key:"handleClickOpenFrontendEditor",value:function(e){e.preventDefault();var t=window.VCV_I18N&&window.VCV_I18N(),n=t&&t.openFrontendEditorFromClassic?t.openFrontendEditorFromClassic:"Visual Composer will overwrite your content created in WordPress Classic editor with the latest version of content created in Visual Composer Website Builder. Do you want to continue?";("be"===this.state.editor||window.confirm(n))&&(window.location.href=e.currentTarget.dataset.href)}},{key:"hideClassicEditor",value:function(){null!==document.getElementById("postdivrich")&&document.getElementById("postdivrich").classList.add("vcv-hidden")}},{key:"showClassicEditor",value:function(){var e=window.location.href;e.indexOf("?")>-1?e+="&classic-editor=1":e+="?classic-editor=1",window.location.href=e}},{key:"render",value:function(){var e=this,t=window.VCV_I18N&&window.VCV_I18N(),n=t&&t.classicEditor?t.classicEditor:"Classic Editor",i=t&&t.gutenbergEditor?t.gutenbergEditor:"Gutenberg Editor",r=this.state.editor,s=window.VCV_GUTENBERG&&window.VCV_GUTENBERG();"be"===this.state.editor&&!0===this.wpb&&this.showClassicEditor();var a=null;!this.props.isGutenbergEditor&&s&&"gutenberg"!==r&&(a=o.createElement("div",{className:"vcv-wpbackend-switcher--type-gutenberg"},o.createElement("button",{className:"vcv-wpbackend-switcher-option",onClick:this.handleClickEnableGutenbergEditor},i)));var c=o.createElement("button",{className:"vcv-wpbackend-switcher-option vcv-wpbackend-switcher-option--vceditor","data-href":window.vcvFrontendEditorLink,onClick:this.handleClickOpenFrontendEditor});return window.VCV_IS_WOOCOMMERCE_LAYOUT&&window.VCV_IS_WOOCOMMERCE_LAYOUT()&&(c=null),o.createElement("div",{className:"vcv-wpbackend-switcher-wrapper"},o.createElement("div",{className:"vcv-wpbackend-switcher"},c),"classic"===r||!1!==this.wpb||s||this.props.isGutenbergEditor?"":o.createElement("div",{className:"vcv-wpbackend-switcher--type-classic"},o.createElement("button",{className:"vcv-wpbackend-switcher-option",onClick:e.handleClickEnableClassicEditor},n)),a)}}]),n}(o.Component);(0,window.jQuery)((function(){!function(){var e=document.querySelector("div#titlediv"),t=document.getElementById("editor"),n=document.createElement("div");n.className="vcv-wpbackend-switcher-container";var r=!1,s=function(e){i.render(o.createElement(w,{isGutenbergEditor:!!t}),e)};if(e)e.parentNode.insertBefore(n,e.nextSibling),r=!0;else if(t){var a=window.VCV_WPML&&window.VCV_WPML()?2500:1;window.wp.data.subscribe((function(){setTimeout((function(){var e=t?t.querySelector(".edit-post-header-toolbar"):null;e&&!e.querySelector(".vcv-wpbackend-switcher-container")&&(e.querySelector(".edit-post-header-toolbar__left")?e.querySelector(".edit-post-header-toolbar__left").after(n):e.append(n),s(n))}),a)}))}else{var c=document.getElementById("post-body-content");c&&(c.firstChild?c.insertBefore(n,c.firstChild):c.appendChild(n),r=!0)}r&&s(n)}()}))},"./public/variables.js":function(e,t,n){var i=n("./node_modules/vc-cake/index.js");if(void 0!==window.VCV_ENV){var o=window.VCV_ENV();Object.keys(o).forEach((function(e){(0,i.env)(e,o[e])})),o.VCV_DEBUG&&(0,i.env)("debug",!0)}}},function(e){e.O(0,["vendor"],(function(){return t="./public/backendSwitch.js",e(e.s=t);var t}));e.O()}]);