!function(t){"use strict";window.VcvTabs=function(e){let i,n;function o(n,o){const a=Array.prototype.slice.call(arguments,1);return this.each((function(){const r=t(this);let s=r.data(e.tabsDataSelector);s||(s=new i(r,t.extend(!0,{},o)),r.data(e.tabsDataSelector,s)),"string"==typeof n&&s[n].apply(s,a)}))}function a(i){let n=null;const o=t(i).find(e.tabContainerSelector).eq(0).find(">"+e.tabDataSelector);return o&&o.each((function(e,i){const o=t(i);"true"===o.attr("data-vcv-active")&&(n=o)})),n}function r(i){const n=a(i);if(n){const o=n.attr("data-vce-target-model-id");o&&t(i).find(`${e.dropdownSelector}`).eq(0).val(o)}}function s(t,i,n){if(n&&n.length)if(n.is(":visible")){const t=parseInt(n.find('[class*="title"]').outerWidth()),e=parseInt(n.find('[class*="title"]').css("marginLeft")),o=n.position().left;t>0&&(i.css("width",t),i.css("left",o+e))}else{const o=n.attr("data-vce-target-model-id"),a=t.find('[data-model-id="'+o+'"]').find(e.slidePanelTitleSelector).find("span").width();i.css("width",a)}else i.css("width",0),i.css("left",0)}function c(i,n){const o=t(i),c=o.find(e.tabContainerSelector),d=parseInt(c.css("padding")),l=c.first(),h=t(l).find("> "+e.tabDataSelector);let f=0;const u=o.outerWidth();if(h.each((function(e,i){f+=t(i).outerWidth()})),e.isDropdown&&(f+=2*d),u>f)"tabs"!==o.attr("data-vcv-tabs-state")&&e.isSlider&&s(o,n&&n.tabSlider,a(i)),o.attr("data-vcv-tabs-state","tabs");else{const t=e.isDropdown?"dropdown":"accordion";o.attr("data-vcv-tabs-state",t),"dropdown"===t&&r(i)}}this.settings=e,i=function(i,n){this.$element=t(i),this.activeAttribute=e.activeAttribute,this.tabSelector=e.tabDataSelector,this.useCacheFlag=void 0,this.$target=void 0,this.selector=void 0,this.$targetTab=void 0,this.$relatedAccordion=void 0,this.$container=void 0},i.prototype.isCacheUsed=function(){const t=this;return void 0===this.useCacheFlag&&(this.useCacheFlag=!1!==t.$element.data("vceUseCache")),this.useCacheFlag},i.prototype.getContainer=function(){return this.isCacheUsed()?(void 0===this.$container&&(this.$container=this.findContainer()),this.$container):this.findContainer()},i.prototype.findContainer=function(){let e=this.$element.closest(this.$element.data("vceContainer"));return e.length||(e=t("body")),e},i.prototype.getContainerAccordion=function(){return this.getContainer().find(e.accordionDataSelector)},i.prototype.getSelector=function(){const t=this.$element,e=function(){let e=t.data("vceTarget");return e||(e=t.attr("href")),e};return this.isCacheUsed()?(void 0===this.selector&&(this.selector=e()),this.selector):e()},i.prototype.getTarget=function(){const t=this.getSelector();return this.isCacheUsed()?(void 0===this.$target&&(this.$target=this.getContainer().find(t)),this.$target):this.getContainer().find(t)},i.prototype.getRelatedAccordion=function(){const i=this,n=function(){const n=i.getContainerAccordion().filter((function(){const n=t(this);let o=n.data(e.accordionContainer);return void 0===o&&(n[e.accordionPropertyName](),o=n.data(e.accordionContainer)),i.getSelector()===o.getSelector()}));if(n.length)return n};return this.isCacheUsed()?(void 0===this.$relatedAccordion&&(this.$relatedAccordion=n()),this.$relatedAccordion):n()},i.prototype.triggerEvent=function(e){if("string"==typeof e){const i=t.Event(e);this.$element.trigger(i)}},i.prototype.getTargetTab=function(){const t=this.$element;return this.isCacheUsed()?(void 0===this.$targetTab&&(this.$targetTab=t.closest(this.tabSelector)),this.$targetTab):t.closest(this.tabSelector)},i.prototype.tabClick=function(){this.getRelatedAccordion().trigger("click")},i.prototype.moveSlider=function(){const t=this.getTargetTab(),i=t.find('[class*="title"]'),n=this.getRelatedAccordion().find("span"),o=this.getTargetTab().is(":visible"),a=parseInt(i.css("marginLeft"))||0,r=o&&t?t.position().left+a:this.getTabPosition(t),s=this.getContainer().find(e.sliderSelector).first();let c;c=e.sliderWidth&&"outer"===e.sliderWidth?o?i.outerWidth():n.outerWidth():o?i.width():n.width(),s.css("width",c),s.css("left",r)},i.prototype.getTabPosition=function(e){const i=e.find('[class*="title"]'),n=this.getContainer().find(this.tabSelector),o=this.getContainerAccordion(),a=n.index(e);let r=parseInt(i.css("marginLeft"));for(let s=0;s<a;s++){const e=t(n[s]).find('[class*="title"]'),i=t(o[s]).find("span"),c=parseInt(e.css("marginLeft")),d=s-1===a?0:parseInt(e.css("marginRight"));r+=c+parseInt(i.width())+d}return r},i.prototype.show=function(){const t=this.getTargetTab();e.isSlider&&this.moveSlider(),"true"!==t.attr(this.activeAttribute)&&(this.triggerEvent(e.showTabSelector),t.attr(this.activeAttribute,!0),t.find(e.tabsTitleSelector).attr("aria-selected",!0),window.dispatchEvent&&window.setTimeout((()=>{window.dispatchEvent(new Event("resize"))}),1))},i.prototype.hide=function(){const t=this.getTargetTab();t.attr(this.activeAttribute)&&"false"!==t.attr(this.activeAttribute)&&(this.triggerEvent(e.hideTabSelector),t.removeAttr(this.activeAttribute),t.find(e.tabsTitleSelector).attr("aria-selected",!1))},this.setupTabsProperty=function(){n=t.fn[e.tabsPropertyName],t.fn[e.tabsPropertyName]=o,t.fn[e.tabsPropertyName].Constructor=i,t.fn[e.tabsPropertyName].noConflict=function(){return t.fn[e.tabsPropertyName]=n,this}},this.clickHandler=function(i){const n=t(this);i.preventDefault(),o.call(n,"tabClick"),e.isDropdown&&r(n.closest(e.tabsSelector)[0])},this.dropdownChangeHandler=function(e){t('.vce-toggle-container-tab-title[data-vce-target="[data-model-id='+e.target.value+']"]').click()},this.changeHandler=function(i){const n=t(i.target).data(e.accordionContainer);n&&(void 0===n.getRelatedTab&&(n.getRelatedTab=function(){const i=function(){return n.getContainer().find(e.dataAttr).filter((function(){const i=t(this);let o=i.data(e.accordionContainer);return void 0===o&&i[e.accordionPropertyName](),o=i.data(e.accordionContainer),o.getSelector()===n.getSelector()}))};return n.isCacheUsed()?(void 0===n.relatedTab&&(n.relatedTab=i()),n.relatedTab):i()}),o.call(n.getRelatedTab(),i.type))},this.setActiveTab=function(i,n){let o=t(e.tabsSelector);if(void 0===i||"add"===i||"update"===i){if("update"===i){const i=t("#el-"+n);if(!i||!i.hasClass("vce-global-element"))return;o=i.find(e.tabsSelector)}if(i&&"add"===i&&n){let i="#el-"+n;o=t(i+e.tabsSelector),o||(i="#el-"+n+"-temp",o=t(i+e.tabsSelector))}o&&o.each((function(i,n){const o=t(n);let a=parseInt(o.attr("data-active-tab"));const d=e.isSlider&&o.find(e.sliderSelector)[0],l=o.find(e.tabContainerSelector)[0],h=t(l).find("> "+e.tabDataSelector);let f=n,u=null;a=h.length>=a?a-1:0,t(h).each((function(e,i){e===a&&(u=t(i))})),o.find("> "+e.resizeSelector).length&&(f=t(n).find("> "+e.resizeSelector)[0]);const g={activeTab:u};e.isSlider&&(g.tabSlider=t(d)),e.dropdownSelector&&r(o),function(i,n,o){const a=this;if(t(i).find("> object").length)return;const r=!(!navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/Edge/));"static"===window.getComputedStyle(i).position&&(i.style.position="relative");const c=i.__resizeTrigger__=document.createElement("iframe");c.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; opacity: 0; pointer-events: none; z-index: -1;"),c.setAttribute("title","Resize helper"),c.__resizeElement__=i,c.onload=function(){if(c.contentDocument.defaultView.addEventListener("resize",n.bind(a,i,o)),n(i,o),e.isSlider){const e=t(i);e.attr("data-vcv-initialized")||s(e,o&&o.tabSlider,o&&o.activeTab)}t(i).attr("data-vcv-initialized",!0)},c.type="text/html",r&&i.appendChild(c),c.data="about:blank",r||i.appendChild(c)}(f,c,g)})),window.dispatchEvent&&window.setTimeout((()=>{window.dispatchEvent(new Event("resize"))}),1)}}},window.VcvTabs.prototype.init=function(){this.setupTabsProperty(),this.setActiveTab(),t(document).on(this.settings.clickEventSelector,this.settings.dataAttr,this.clickHandler),t(document).on(this.settings.showEventSelector,this.changeHandler),this.settings.dropdownSelector&&t(document).on(this.settings.changeEventSelector,this.settings.dropdownSelector,this.dropdownChangeHandler)}}(window.jQuery);